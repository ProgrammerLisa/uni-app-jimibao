(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/template/profile/topList-order/topList-order"],{"0b32":function(t,e,n){"use strict";n.r(e);var r=n("3b4c"),a=n("a0c1");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("38c0");var i=n("2877"),u=Object(i["a"])(a["default"],r["a"],r["b"],!1,null,"01337736",null);e["default"]=u.exports},"38c0":function(t,e,n){"use strict";var r=n("7589"),a=n.n(r);a.a},"3b4c":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=(t._self._c,t.tabList.map(function(e,n){var r=e.dataList.map(function(e,n){var r=t._f("statusFilter")(e.status);return{$orig:t.__get_orig(e),f0:r}});return{$orig:t.__get_orig(e),l0:r}}));t._isMounted||(t.e0=function(e){t.revokeShow=!1}),t.$mp.data=Object.assign({},{$root:{l1:n}})},a=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a})},4189:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n("a34a")),a=o(n("e137"));function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r,a,o,i){try{var u=t[o](i),s=u.value}catch(c){return void n(c)}u.done?e(s):Promise.resolve(s).then(r,a)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function u(t){i(o,r,a,u,s,"next",t)}function s(t){i(o,r,a,u,s,"throw",t)}u(void 0)})}}var s=function(){return n.e("components/uni-icon/uni-icon").then(n.bind(null,"d227"))},c=function(){return n.e("components/uni-card/uni-card").then(n.bind(null,"facf"))},l=function(){return Promise.all([n.e("common/vendor"),n.e("components/mescroll-uni/mescroll-uni")]).then(n.bind(null,"5d2a"))},d=function(){return n.e("components/y-confirm/y-confirm").then(n.bind(null,"762f"))},f=function(){return n.e("components/y-tabs/y-tabs").then(n.bind(null,"216d"))},h={components:{uniIcon:s,uniCard:c,uniMescroll:l,yConfirm:d,yTabs:f},filters:{iconFilter:function(){},statusFilter:function(t){switch(t){case-1:return"自动撤销";case 0:return"手动撤销";case 1:return"（匹配中）正在求购";case 2:return"（已匹配）请收方付款";case 3:return"（已付款）请出方确认";case 4:return"成交";case 5:return"（匹配中）正在出售";case 6:return"向平台兑换工具成功"}}},data:function(){return{active:0,tabList:[{title:"收单",dataList:[]},{title:"出单",dataList:[]}],revokeShow:!1,orderId:"",mescroll:null,downOption:{use:!0,auto:!0},upOption:{use:!0,auto:!0,isLock:!1,page:{num:0,size:10},noMoreSize:9,empty:{tip:"暂无相关数据"}}}},onReachBottom:function(){this.mescroll&&this.mescroll.onReachBottom()},onPageScroll:function(t){this.mescroll&&this.mescroll.onPageScroll(t)},methods:{changeTabs:function(){var t=u(r.default.mark(function t(e){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.active=e;case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),orderEvent:function(e){this.orderId=e.orderid,1===e.status||5===e.status?this.revokeShow=!0:-1===e.status||0===e.status?t.showToast({title:"订单不存在",icon:"none"}):this.getChatRoomId()},getChatRoomId:function(){var e=u(r.default.mark(function e(){var n;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.default.getChatIdByOrderId({orderid:this.orderId});case 2:n=e.sent,n.success&&t.setStorage({key:"chat-id",data:n.data.gfirmid,success:function(){t.navigateTo({url:"/pages/tabBar/chat/room"})}});case 4:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),revoke:function(){var e=u(r.default.mark(function e(){var n,o=this;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.default.revoke({orderid:this.orderId});case 2:n=e.sent,n.success&&(this.tabList[this.active].dataList.forEach(function(t){t.orderid===o.orderId&&(t.status=0)}),this.revokeShow=!1,t.showToast({title:"订单已撤销"}));case 4:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),mescrollInit:function(t){this.mescroll=t},downCallback:function(t){t.resetUpScroll()},upCallback:function(){var t=u(r.default.mark(function t(e){var n,o,i,u,s,c,l=this;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.num,o=e.size,t.t0=this.active,t.next=0===t.t0?5:1===t.t0?7:9;break;case 5:return i=1,t.abrupt("break",9);case 7:return i=2,t.abrupt("break",9);case 9:return t.next=11,a.default.order({page:n,size:o,sign:i});case 11:u=t.sent,u.success?(s=u.data.list,u.data.total,c=u.data.hasNextPage,setTimeout(function(){e.endSuccess(s.length,c),1===e.num&&(l.tabList[l.active].dataList=[]),l.tabList[l.active].dataList=l.tabList[l.active].dataList.concat(s)},500)):e.endErr();case 13:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}};e.default=h}).call(this,n("6e42")["default"])},7589:function(t,e,n){},a0c1:function(t,e,n){"use strict";n.r(e);var r=n("4189"),a=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);e["default"]=a.a}},[["63da","common/runtime","common/vendor"]]]);