(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login/login"],{"02e2":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n("a34a")),r=u(n("7d61")),o=u(n("c3b0")),s=u(n("7cc9"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a,r,o,s){try{var u=e[o](s),c=u.value}catch(i){return void n(i)}u.done?t(c):Promise.resolve(c).then(a,r)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function s(e){c(o,a,r,s,u,"next",e)}function u(e){c(o,a,r,s,u,"throw",e)}s(void 0)})}}var l={data:function(){return{logo:r.default,pickerHidden:!0,chosen:"",showPassword:!0,showClearIcon:!1,inputClearValue:""}},onLoad:function(){e.getStorage({key:"user",success:function(t){t.data&&e.switchTab({url:"/pages/tabBar/profile/profile"})}})},methods:{formSubmit:function(e){var t={};this.checkForm(e.detail.value)&&(o.default.phone.test(e.detail.value.phone)?this.sendFormRequest(e.detail.value):(t={account:e.detail.value.phone,password:e.detail.value.password},this.sendFormRequest(t)))},sendFormRequest:function(){var t=i(a.default.mark(function t(n){var r;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.default.login(n,{"Content-Type":"application/json"});case 2:r=t.sent,r.success&&e.setStorage({key:"user",data:r.data,success:function(){e.showToast({title:"登录成功"}),e.switchTab({url:"/pages/tabBar/home/home"})}});case 4:case"end":return t.stop()}},t,this)}));function n(e){return t.apply(this,arguments)}return n}(),checkForm:function(t){var n,a=this;for(var r in t){var o=a.checkItem(r,t[r]);if(!o.status)return e.showToast({title:o.message,icon:"none"}),!1;n=!0}return n},checkItem:function(e,t){switch(e){case"phone":return t?{status:!0}:{status:!1,message:"请输入手机号码"};case"password":return t?{status:!0}:{status:!1,message:"请输入密码"}}},clearIcon:function(){this.inputClearValue="",this.showClearIcon=!1},clearInput:function(e){this.inputClearValue=e.target.value,e.target.value.length>0?this.showClearIcon=!0:this.showClearIcon=!1},toForgetPassword:function(){e.navigateTo({url:"/pages/login/register/register"})},toRegister:function(){e.navigateTo({url:"/pages/login/register/register"})}}};t.default=l}).call(this,n("6e42")["default"])},"1e44":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.showPassword=!e.showPassword})},r=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r})},"1f75":function(e,t,n){"use strict";n.r(t);var a=n("02e2"),r=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t["default"]=r.a},"7bca":function(e,t,n){"use strict";var a=n("98d9"),r=n.n(a);r.a},"98d9":function(e,t,n){},a3cc:function(e,t,n){"use strict";var a=n("cc49"),r=n.n(a);r.a},a9ff:function(e,t,n){"use strict";n.r(t);var a=n("1e44"),r=n("1f75");for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);n("7bca"),n("a3cc");var s=n("2877"),u=Object(s["a"])(r["default"],a["a"],a["b"],!1,null,"2be61c52",null);t["default"]=u.exports},cc49:function(e,t,n){}},[["4b3f","common/runtime","common/vendor"]]]);