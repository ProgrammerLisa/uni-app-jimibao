(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login/login"],{"02e2":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n("a34a")),o=u(n("0f8a")),r=u(n("c3b0")),s=u(n("7cc9"));function u(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,a,o,r,s){try{var u=e[r](s),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(a,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var r=e.apply(t,n);function s(e){i(r,a,o,s,u,"next",e)}function u(e){i(r,a,o,s,u,"throw",e)}s(void 0)})}}var l={data:function(){return{logo:o.default,pickerHidden:!0,chosen:"",showPassword:!0,showClearIcon:!1,inputClearValue:""}},onLoad:function(){e.getStorage({key:"user",success:function(t){t.data&&e.switchTab({url:"/pages/tabBar/home/home"})}})},methods:{formSubmit:function(e){var t={};this.checkForm(e.detail.value)&&(r.default.phone.test(e.detail.value.phone)?this.sendFormRequest(e.detail.value):(t={account:e.detail.value.phone,password:e.detail.value.password},this.sendFormRequest(t)))},sendFormRequest:function(){var t=c(a.default.mark(function t(n){var o;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.default.login(n,{"Content-Type":"application/json"});case 2:o=t.sent,o.success&&e.setStorage({key:"user",data:o.data,success:function(){e.showToast({title:"登录成功"}),e.switchTab({url:"/pages/tabBar/home/home"})}});case 4:case"end":return t.stop()}},t,this)}));function n(e){return t.apply(this,arguments)}return n}(),checkForm:function(t){var n,a=this;for(var o in t){var r=a.checkItem(o,t[o]);if(!r.status)return e.showToast({title:r.message,icon:"none"}),!1;n=!0}return n},checkItem:function(e,t){switch(e){case"phone":return t?{status:!0}:{status:!1,message:"请输入手机号码"};case"password":return t?{status:!0}:{status:!1,message:"请输入密码"}}},clearIcon:function(){this.inputClearValue="",this.showClearIcon=!1},clearInput:function(e){this.inputClearValue=e.target.value,e.target.value.length>0?this.showClearIcon=!0:this.showClearIcon=!1},toForgetPassword:function(){e.navigateTo({url:"/pages/login/register/register"})},toRegister:function(){e.navigateTo({url:"/pages/login/register/register"})}}};t.default=l}).call(this,n("6e42")["default"])},"1f75":function(e,t,n){"use strict";n.r(t);var a=n("02e2"),o=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);t["default"]=o.a},"2f8d":function(e,t,n){"use strict";var a=n("48c4"),o=n.n(a);o.a},"48c4":function(e,t,n){},"53c5":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.showPassword=!e.showPassword})},o=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o})},"5ea7":function(e,t,n){"use strict";var a=n("b341"),o=n.n(a);o.a},a9ff:function(e,t,n){"use strict";n.r(t);var a=n("53c5"),o=n("1f75");for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);n("2f8d"),n("5ea7");var s=n("2877"),u=Object(s["a"])(o["default"],a["a"],a["b"],!1,null,"62ab80f7",null);t["default"]=u.exports},b341:function(e,t,n){}},[["4b3f","common/runtime","common/vendor"]]]);