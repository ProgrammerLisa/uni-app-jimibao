(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/profile/profile"],{"05b1":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(a("a34a")),o=d(a("e9c0")),i=d(a("35ac")),r=d(a("2932")),s=d(a("deb8")),l=d(a("457f")),c=d(a("7016")),u=d(a("e137"));d(a("7121"));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,a,n,o,i,r){try{var s=e[i](r),l=s.value}catch(c){return void a(c)}s.done?t(l):Promise.resolve(l).then(n,o)}function p(e){return function(){var t=this,a=arguments;return new Promise(function(n,o){var i=e.apply(t,a);function r(e){f(i,n,o,r,s,"next",e)}function s(e){f(i,n,o,r,s,"throw",e)}r(void 0)})}}var h=function(){return a.e("components/uni-icon/uni-icon").then(a.bind(null,"d227"))},g=function(){return a.e("components/uni-list/uni-list").then(a.bind(null,"94bd"))},b=function(){return a.e("components/uni-list-item/uni-list-item").then(a.bind(null,"713a"))},v={components:{uniIcon:h,uniList:g,uniListItem:b},data:function(){return{hot:s.default,diamond:l.default,gift:c.default,wave1:[o.default,o.default],wave2:[i.default,i.default],defaultAvatar:r.default,imageUrl:"",userInfo:{},servicePhone:{},extraIcon1:{color:"#007aff",size:"22",type:"info-filled"},levelList:[{title:"会员等级",type:"level",icon:l.default,text:"Lv0"},{title:"活跃值",type:"active",icon:s.default,text:"0"},{title:"贡献值",type:"contribution",icon:c.default,text:"0"}],topList:[{title:"抽奖",type:"lottery",icon:"spinner",url:"/pages/template/profile/topList-lottery/topList-lottery"},{title:"订单",type:"order",icon:"compose",url:"/pages/template/profile/topList-order/topList-order"},{title:"团队",type:"team",icon:"contact",url:"/pages/template/profile/topList-team/topList-team"},{title:"收货地址",type:"encourage",icon:"location-filled",url:"/pages/template/profile/address/address"}],list:[{title:"米库总量",type:"sum",showArrow:!0,showExtraIcon:!0,extraIcon:{color:"#a1adc1",size:"22",type:"star-filled"},showBadge:!0,badgeText:"",badgeType:"warning",runningWay:"goPage",path:"/pages/template/profile/sum/sum"},{title:"实名认证",type:"realName",showArrow:!0,showExtraIcon:!0,extraIcon:{color:"#a1adc1",size:"22",type:"personadd-filled"},showBadge:!0,badgeText:"",badgeType:"warning",runningWay:"goPage",path:"/pages/template/profile/real-name/real-name"},{title:"问题反馈",type:"feedback",showArrow:!0,showExtraIcon:!0,extraIcon:{color:"#a1adc1",size:"22",type:"help-filled"},showBadge:!1,badgeText:"",badgeType:"warning",runningWay:"goPage",path:"/pages/template/profile/feedback/feedback"},{title:"检测版本",type:"edition",showArrow:!0,showExtraIcon:!0,extraIcon:{color:"#a1adc1",size:"22",type:"info-filled"},showBadge:!0,badgeText:"",badgeType:"warning",runningWay:"goPage",path:"/pages/template/profile/edition/edition"},{title:"客服微信",type:"wechat",showArrow:!1,showExtraIcon:!0,extraIcon:{color:"#a1adc1",size:"22",type:"weixin"},showBadge:!0,badgeText:"",badgeType:"default",runningWay:"copy"},{title:"客服热线",type:"phone",showArrow:!1,showExtraIcon:!0,extraIcon:{color:"#a1adc1",size:"22",type:"phone-filled"},showBadge:!0,badgeText:"",badgeType:"default",runningWay:"dialPhone"}]}},onShow:function(){this.getData(),this.getListData();var t=this;e.onSocketMessage(function(e){"CHAT"===JSON.parse(e.data).type&&t.noReadCount()})},onReady:function(){this.imageUrl=this.$imageUrl},methods:{getData:function(){var e=p(n.default.mark(function e(){var t,a=this;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.default.home();case 2:t=e.sent,t.success&&(this.userInfo=t.data.TFirmPO,this.levelList.forEach(function(e){switch(e.type){case"level":e.text=a.userInfo.firmLevel.levelname;break;case"active":e.text=a.userInfo.activevalue;break;case"contribution":e.text=a.userInfo.contribution;break}}),this.list.forEach(function(e){switch(e.type){case"sum":e.badgeText=t.data.FirmFunds.lastbalance;break;case"realName":t.data.TFirmPO.idcard?e.badgeText="已认证":e.badgeText="未认证";break;case"edition":e.badgeText=a.$version;break}}));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getListData:function(){var e=p(n.default.mark(function e(){var t;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.default.phoneVersion();case 2:t=e.sent,t.success&&(this.servicePhone=t.data,this.list.forEach(function(e){switch(e.type){case"wechat":e.badgeText=t.data.wechat;break;case"phone":e.badgeText=t.data.telphone}}));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),noReadCount:function(){var t=p(n.default.mark(function t(){var a,o;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.default.unRead();case 2:a=t.sent,a.success&&a.data>0&&(o=a.data<100?a.data.toString():"99+",e.setTabBarBadge({index:3,text:o}));case 4:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),goSetting:function(){e.navigateTo({url:"/pages/template/profile/setting/setting"})},goSetInfo:function(){e.navigateTo({url:"/pages/template/profile/info/info"})},goLevel:function(){e.navigateTo({url:"/pages/template/profile/level/level"})},goToplist:function(t){e.navigateTo({url:this.topList[t].url})},running:function(t){var a=this.list[t];switch(a.runningWay){case"copy":e.setClipboardData({data:a.badgeText,success:function(){e.showToast({title:"复制成功"})},fail:function(){e.showToast({title:"复制失败",icon:"none"})}});break;case"dialPhone":e.makePhoneCall({phoneNumber:a.badgeText,fail:function(){e.showToast({title:"调用手机拨号失败，请手动输入号码拨号",icon:"none"})}});break;case"goPage":e.navigateTo({url:a.path});break}}}};t.default=v}).call(this,a("6e42")["default"])},"247a":function(e,t,a){"use strict";a.r(t);var n=a("05b1"),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);t["default"]=o.a},4351:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},o=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return o})},"6f42":function(e,t,a){},a3d6:function(e,t,a){"use strict";a.r(t);var n=a("4351"),o=a("247a");for(var i in o)"default"!==i&&function(e){a.d(t,e,function(){return o[e]})}(i);a("bfa4");var r=a("2877"),s=Object(r["a"])(o["default"],n["a"],n["b"],!1,null,"6271d066",null);t["default"]=s.exports},bfa4:function(e,t,a){"use strict";var n=a("6f42"),o=a.n(n);o.a}},[["2118","common/runtime","common/vendor"]]]);