<view class="y-container data-v-158c0946"><view class="banner-container data-v-158c0946"><image class="banner-top data-v-158c0946" src="{{top1}}" mode="widthFix"></image><view class="banner-content data-v-158c0946"><view class="banner-title data-v-158c0946">当前米库总量</view><view class="banner-count data-v-158c0946">{{sum}}<text class="data-v-158c0946">kg</text></view></view><view class="y-row banner-tips data-v-158c0946"><view class="y-col data-v-158c0946">{{"抽奖次数："+chance}}</view><view data-event-opts="{{[['tap',[['goRecord',['$event']]]]]}}" class="y-col y-col-right no-tips data-v-158c0946" bindtap="__e">我的奖品</view></view><view class="y-row y-row-end banner-tips data-v-158c0946" style="top:50px;"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="y-col y-col-right no-tips data-v-158c0946" bindtap="__e">活动详情</view></view></view><view class="y-tips-box data-v-158c0946"><view class="y-tips-item data-v-158c0946">每1kg米粒可以进行5次抽奖活动</view><view class="y-tips-item data-v-158c0946">批量抽奖有优惠</view></view><view class="lottery-box data-v-158c0946"><block wx:for="{{list}}" wx:for-item="i" wx:for-index="index" wx:key="index"><view class="y-item data-v-158c0946"><image class="y-image data-v-158c0946" src="{{i.img}}"></image><view class="{{['y-modal data-v-158c0946',allHide||i.index===subShow?'y-modal-hide':'']}}"></view><view class="y-modal-single data-v-158c0946" style="{{(i.index===subShow?'opacity:0.3':'opacity:0')}}"></view></view></block></view><view class="y-button-box data-v-158c0946"><button class="y-button data-v-158c0946" disabled="{{lotterySub}}" data-event-opts="{{[['tap',[['lotteryOnce',['$event']]]]]}}" bindtap="__e">单次抽奖</button><button class="y-button data-v-158c0946" disabled="{{lotterySub}}" data-event-opts="{{[['tap',[['batchLottery',['$event']]]]]}}" bindtap="__e">批量抽奖</button></view><y-modal vue-id="1" show="{{sexModalShow}}" boxType="confirm" data-event-opts="{{[['^hideModal',[['e1']]]]}}" bind:hideModal="__e" class="data-v-158c0946" bind:__l="__l"></y-modal><y-confirm vue-id="2" title="恭喜您获得" bottom="40%" tips="{{lotteryInfo.prizename+' '+lotteryInfo.prizecontent}}" cancel="{{false}}" show="{{lotteryBoxShow}}" data-event-opts="{{[['^confirm',[['e2']]],['^hideModal',[['e3']]]]}}" bind:confirm="__e" bind:hideModal="__e" class="data-v-158c0946" bind:__l="__l" vue-slots="{{['default']}}"><view class="giftImage-box data-v-158c0946"><image class="giftImage data-v-158c0946" src="{{giftImage}}"></image></view></y-confirm><y-confirm vue-id="3" show="{{exchangeBoxShow}}" title="你的抽奖可用次数已不足1次 是否兑换？" data-event-opts="{{[['^confirm',[['exchangeSuccess']]],['^hideModal',[['e4']]]]}}" bind:confirm="__e" bind:hideModal="__e" class="data-v-158c0946" bind:__l="__l"></y-confirm><y-input-confirm vue-id="4" type="number" title="兑换次数" tips="请输入整数" show="{{buyBoxShow}}" data-event-opts="{{[['^confirm',[['buySuccess']]],['^hideModal',[['e5']]]]}}" bind:confirm="__e" bind:hideModal="__e" class="data-v-158c0946" bind:__l="__l"></y-input-confirm><y-confirm vue-id="5" show="{{batchBoxShow}}" title="请选择批量抽奖次数" bottom="30%" cancel="{{false}}" sure="{{false}}" hideAuto="{{false}}" data-event-opts="{{[['^hideModal',[['e6']]]]}}" bind:hideModal="__e" class="data-v-158c0946" bind:__l="__l" vue-slots="{{['default']}}"><view class="batch-container data-v-158c0946"><view class="batch-box data-v-158c0946"><block wx:for="{{box}}" wx:for-item="i" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['batchChoose',['$0'],[[['box','',index,'count']]]]]]]}}" class="{{['batch-item data-v-158c0946',batchChooseIndex===i.count?'boxActive':'']}}" bindtap="__e"><view class="count data-v-158c0946">{{i.count+"次"}}</view><view class="discount data-v-158c0946">{{i.discount}}</view></view></block></view><view class="batch-footer data-v-158c0946"><view class="batch-tips data-v-158c0946"><text class="data-v-158c0946">{{"所需: "+batchNeedCount+"kg"}}</text></view><view class="batch-submit data-v-158c0946"><view data-event-opts="{{[['tap',[['batchSubmit',['$event']]]]]}}" class="batch-button data-v-158c0946" bindtap="__e">批量抽奖</view></view></view></view></y-confirm><y-confirm vue-id="6" title="恭喜您获得" bottom="{{luckyPrize.length>3?'15%':'30%'}}" cancel="{{false}}" show="{{batchLotteryBoxShow}}" data-event-opts="{{[['^confirm',[['e7']]],['^hideModal',[['e8']]]]}}" bind:confirm="__e" bind:hideModal="__e" class="data-v-158c0946" bind:__l="__l" vue-slots="{{['default']}}"><view class="gift-box data-v-158c0946"><block wx:for="{{luckyPrize}}" wx:for-item="i" wx:for-index="index" wx:key="index"><view class="gift-box-item data-v-158c0946"><image class="gift-image data-v-158c0946" mode="widthFix" src="{{i.img}}"></image><view class="gift-name data-v-158c0946">{{i.prizename+"×"+i.winNumber}}</view><view class="gift-tips data-v-158c0946">{{i.prizecontent}}</view></view></block></view></y-confirm><y-confirm vue-id="7" show="{{lotteryRuleShow}}" zIndex="99" bottom="10%" cancel="{{false}}" sure="{{false}}" data-event-opts="{{[['^hideModal',[['e9']]]]}}" bind:hideModal="__e" class="data-v-158c0946" bind:__l="__l" vue-slots="{{['default']}}"><view class="rule-container data-v-158c0946"><view class="rule-content data-v-158c0946"><text class="rule-title data-v-158c0946">奖品详情</text><view class="rule-detail data-v-158c0946"><block wx:for="{{detail}}" wx:for-item="i" wx:for-index="index" wx:key="index"><view class="data-v-158c0946">{{i.title+" "+i.name}}</view></block></view><text class="rule-title data-v-158c0946">奖品详情</text><view class="rule-detail data-v-158c0946"><block wx:for="{{rule}}" wx:for-item="i" wx:for-index="index" wx:key="index"><view class="data-v-158c0946">{{index+1+". "+i}}</view></block></view></view><view class="rule-button data-v-158c0946"><button data-event-opts="{{[['tap',[['e10',['$event']]]]]}}" class="y-button data-v-158c0946" bindtap="__e">我知道了</button></view></view></y-confirm></view>